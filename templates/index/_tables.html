{# data: cols, users #}

{% macro page_btn(number) -%}
  <li class="page-item number"><a class="page-link" data-page="{{ number }}">{{ number }}</a></li>
{%- endmacro %}

{% block tables %}
<section class="tables">   
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-close">
              <div class="dropdown">
                <button type="button" id="closeCard1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle"><i class="fa fa-ellipsis-v"></i></button>
                <div aria-labelledby="closeCard1" class="dropdown-menu dropdown-menu-right has-shadow"><a href="#" class="dropdown-item remove"> <i class="fa fa-times"></i>Close</a><a data-toggle="modal" data-target="#new-form" class="dropdown-item edit"> <i class="fa fa-gear"></i>Add User</a></div>
              </div>
            </div>
            <div class="card-header d-flex align-items-center">
              <h3 class="h4">Management Table</h3>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col">#</th>
                      {% for col in data.header %}
                        <th scope="col">{{ col }}</th>
                      {% endfor %}
                    </tr>
                  </thead>
                  <tbody id="table-body">
                    {% for user in data.users %}
                      <tr data-id="{{ user.id }}">
                        <th scope="row">{{ user.id }}</th>
                        <td>{{ user.first_name + " " + user.last_name }}</td>
                        <td>{{ user.state }}</td>
                        <td>{{ user.zipcode }}</td>
                        <td>{{ user.dob }}</td>
                        <td>{{ user.sex }}</td>
                        <td>{{ user.phone }}</td>
                      </tr>
                    {% endfor %}
                  </tbody>
                </table>
                <ul class="pagination">
                  <li class="page-item">
                    <a class="page-link" aria-label="Previous" data-page=1>
                      <span aria-hidden="true">&laquo;</span>
                      <span class="sr-only">Previous</span>
                    </a>
                  </li>
                  {% for i in range(1,6)%}
                    {{ page_btn(i) }}
                  {% endfor %}
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}